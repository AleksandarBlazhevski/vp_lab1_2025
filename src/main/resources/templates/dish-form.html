<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
>
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <form method="post" th:action="@{${url}}">
        <div>
            <label for="name">Dish Name</label>
            <input type="text"
                   id="name"
                   name="name"
                   th:value="${dish?.getName()}"
                   required
                   placeholder="Enter dish name">
        </div>

        <div>
            <label for="cuisine">Cuisine</label>
<!--            <input type="text"-->
<!--                   id="cuisine"-->
<!--                   name="cuisine"-->
<!--                   th:value="${dish?.getCuisine()}"-->
<!--                   required-->
<!--                   placeholder="Enter cuisine">-->
            <select name="cuisine" id="cuisine">
                <option><---Select-cuisine---></option>
                <option th:each="cuisine: ${cuisines}"
                        th:if="${dish?.cuisine} != ${cuisine}"
                        th:text="${cuisine}"
                        th:value="${cuisine}"
                ></option>
                <option th:if="${dish} != null"
                        th:text="${dish.cuisine}"
                        th:value="${dish.cuisine}"
                        selected
                >
                </option>
            </select>
        </div>

        <div>
            <label for="prep-time">Preparation time</label>
            <input type="number"
                   id="prep-time"
                   name="preparationTime"
                   th:value="${dish?.getPreparationTime()}"
                   required
                   placeholder="Enter preparation time"
                    step="1">
        </div>
        <!--dishId is set in service and is string value of the id-->
        <input type="number" name="id" th:value="${dish?.getId()}" hidden="hidden">
        <div>
            <label for="chefs">Chefs</label>
            <select name="chefId" id="chefs">
                <option><---Select-Chef---></option>
                <option th:each="chef : ${chefs}"
                        th:if="${dish?.chef?.getId()} != ${chef.getId()}"
                        th:text="${chef.getFormatedName()}"
                        th:value="${chef.getId()}"></option>
                <option th:if="${dish} != null"
                        th:selected="${true}"
                        th:value="${dish.chef.getId()}"
                        th:text="${dish.chef.getFormatedName()}"
                ></option>
            </select>
        </div>



        <button id="submit" type="submit" class="btn btn-primary">Submit</button>
        <a type="button" href="/dishes">Back</a>
    </form>
</body>
</html>